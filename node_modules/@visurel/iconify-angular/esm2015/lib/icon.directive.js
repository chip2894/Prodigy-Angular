import { IconService } from './icon.service';
import { Directive, HostBinding, Input } from '@angular/core';
import { DomSanitizer } from '@angular/platform-browser';
import { normalize, SVG } from './svg';
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from '@angular/platform-browser';
import * as ɵngcc2 from './icon.service';
export class IconDirective {
    constructor(domSanitizer, iconService) {
        this.domSanitizer = domSanitizer;
        this.iconService = iconService;
        this.width = '1em';
        this.height = '1em';
        this.rotate = 0;
    }
    ngOnInit() { }
    ngOnChanges(changes) {
        if (changes) {
            this.updateIcon();
        }
    }
    updateIcon() {
        const icon = this.getIcon();
        const svg = new SVG(normalize(icon));
        this.iconHTML = this.generateSvgHtml(svg);
    }
    getIcon() {
        const iconInput = this.icon || this.icIcon;
        if (typeof iconInput !== 'object' && typeof iconInput !== 'string') {
            throw new Error('[Iconify]: No icon provided');
        }
        return typeof iconInput === 'object' ? iconInput : this.iconService.get(iconInput);
    }
    generateSvgHtml(svg) {
        return this.domSanitizer.bypassSecurityTrustHtml(svg.getSVG({
            width: this.size || this.width,
            height: this.size || this.height,
            color: this.color,
            inline: this.inline,
            box: this.box,
            align: this.align,
            hFlip: this.hFlip,
            vFlip: this.vFlip,
            flip: this.flip,
            rotate: this.rotate
        }));
    }
}
IconDirective.ɵfac = function IconDirective_Factory(t) { return new (t || IconDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.DomSanitizer), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.IconService)); };
IconDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: IconDirective, selectors: [["ic-icon"], ["", "icIcon", ""]], hostVars: 3, hostBindings: function IconDirective_HostBindings(rf, ctx) { if (rf & 2) {
        ɵngcc0.ɵɵhostProperty("innerHTML", ctx.iconHTML, ɵngcc0.ɵɵsanitizeHtml);
        ɵngcc0.ɵɵclassProp("ic-inline", ctx.inline);
    } }, inputs: { width: "width", height: "height", rotate: "rotate", icIcon: "icIcon", icon: "icon", color: "color", inline: "inline", box: "box", size: "size", align: "align", hFlip: "hFlip", vFlip: "vFlip", flip: "flip" }, features: [ɵngcc0.ɵɵNgOnChangesFeature] });
IconDirective.ctorParameters = () => [
    { type: DomSanitizer },
    { type: IconService }
];
IconDirective.propDecorators = {
    icIcon: [{ type: Input }],
    icon: [{ type: Input }],
    color: [{ type: Input }],
    inline: [{ type: Input }, { type: HostBinding, args: ['class.ic-inline',] }],
    box: [{ type: Input }],
    size: [{ type: Input }],
    width: [{ type: Input }],
    height: [{ type: Input }],
    align: [{ type: Input }],
    hFlip: [{ type: Input }],
    vFlip: [{ type: Input }],
    flip: [{ type: Input }],
    rotate: [{ type: Input }],
    iconHTML: [{ type: HostBinding, args: ['innerHTML',] }]
};
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(IconDirective, [{
        type: Directive,
        args: [{
                selector: 'ic-icon,[icIcon]'
            }]
    }], function () { return [{ type: ɵngcc1.DomSanitizer }, { type: ɵngcc2.IconService }]; }, { width: [{
            type: Input
        }], height: [{
            type: Input
        }], rotate: [{
            type: Input
        }], iconHTML: [{
            type: HostBinding,
            args: ['innerHTML']
        }], icIcon: [{
            type: Input
        }], icon: [{
            type: Input
        }], color: [{
            type: Input
        }], inline: [{
            type: Input
        }, {
            type: HostBinding,
            args: ['class.ic-inline']
        }], box: [{
            type: Input
        }], size: [{
            type: Input
        }], align: [{
            type: Input
        }], hFlip: [{
            type: Input
        }], vFlip: [{
            type: Input
        }], flip: [{
            type: Input
        }] }); })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaWNvbi5kaXJlY3RpdmUuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2ljb25pZnkvc3JjL2xpYi9pY29uLmRpcmVjdGl2ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDN0MsT0FBTyxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsS0FBSyxFQUFvQyxNQUFNLGVBQWUsQ0FBQztBQUNoRyxPQUFPLEVBQUUsWUFBWSxFQUFZLE1BQU0sMkJBQTJCLENBQUM7QUFDbkUsT0FBTyxFQUFFLFNBQVMsRUFBRSxHQUFHLEVBQUUsTUFBTSxPQUFPLENBQUM7Ozs7QUFLdkMsTUFBTSxPQUFPLGFBQWE7QUFBRyxJQTZCM0IsWUFBb0IsWUFBMEIsRUFBVSxXQUF3QjtBQUFJLFFBQWhFLGlCQUFZLEdBQVosWUFBWSxDQUFjO0FBQUMsUUFBUyxnQkFBVyxHQUFYLFdBQVcsQ0FBYTtBQUFDLFFBYnhFLFVBQUssR0FBRyxLQUFLLENBQUM7QUFDekIsUUFBVyxXQUFNLEdBQUcsS0FBSyxDQUFDO0FBQzFCLFFBTVcsV0FBTSxHQUFHLENBQUMsQ0FBQztBQUN0QixJQUlzRixDQUFDO0FBQ3ZGLElBQ0UsUUFBUSxLQUFLLENBQUM7QUFDaEIsSUFDRSxXQUFXLENBQUMsT0FBc0I7QUFBSSxRQUNwQyxJQUFJLE9BQU8sRUFBRTtBQUNqQixZQUFNLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztBQUN4QixTQUFLO0FBQ0wsSUFBRSxDQUFDO0FBQ0gsSUFDRSxVQUFVO0FBQ1osUUFBSSxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7QUFDaEMsUUFBSSxNQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUN6QyxRQUFJLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMs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QUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBckVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFMQSxBQUFBLEFBRkEsQUFBQSxBQVVBLEFBQUEsQUFDQSxBQUFBLEFBR0EsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUdBLEFBQUEsQUFHQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBR0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSWNvblNlcnZpY2UgfSBmcm9tICcuL2ljb24uc2VydmljZSc7XHJcbmltcG9ydCB7IERpcmVjdGl2ZSwgSG9zdEJpbmRpbmcsIElucHV0LCBPbkNoYW5nZXMsIE9uSW5pdCwgU2ltcGxlQ2hhbmdlcyB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBEb21TYW5pdGl6ZXIsIFNhZmVIdG1sIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlcic7XHJcbmltcG9ydCB7IG5vcm1hbGl6ZSwgU1ZHIH0gZnJvbSAnLi9zdmcnO1xyXG5cclxuQERpcmVjdGl2ZSh7XHJcbiAgc2VsZWN0b3I6ICdpYy1pY29uLFtpY0ljb25dJ1xyXG59KVxyXG5leHBvcnQgY2xhc3MgSWNvbkRpcmVjdGl2ZSBpbXBsZW1lbnRzIE9uSW5pdCwgT25DaGFuZ2VzIHtcclxuXHJcbiAgQElucHV0KCkgaWNJY29uOiBvYmplY3QgfCBzdHJpbmc7XHJcbiAgQElucHV0KCkgaWNvbjogb2JqZWN0IHwgc3RyaW5nO1xyXG5cclxuICAvLyBPcHRpb25hbCBQcm9wZXJ0aWVzXHJcbiAgQElucHV0KCkgY29sb3I6IHN0cmluZztcclxuXHJcbiAgQElucHV0KClcclxuICBASG9zdEJpbmRpbmcoJ2NsYXNzLmljLWlubGluZScpXHJcbiAgaW5saW5lOiBib29sZWFuO1xyXG5cclxuICBASW5wdXQoKSBib3g6IGJvb2xlYW47XHJcblxyXG4gIC8vIERpbWVuc2lvbnMgYW5kIEFsaWdubWVudFxyXG4gIEBJbnB1dCgpIHNpemU6IHN0cmluZztcclxuICBASW5wdXQoKSB3aWR0aCA9ICcxZW0nO1xyXG4gIEBJbnB1dCgpIGhlaWdodCA9ICcxZW0nO1xyXG4gIEBJbnB1dCgpIGFsaWduOiBzdHJpbmc7XHJcblxyXG4gIC8vIFRyYW5zZm9ybWF0aW9uc1xyXG4gIEBJbnB1dCgpIGhGbGlwOiBib29sZWFuO1xyXG4gIEBJbnB1dCgpIHZGbGlwOiBib29sZWFuO1xyXG4gIEBJbnB1dCgpIGZsaXA6IHN0cmluZztcclxuICBASW5wdXQoKSByb3RhdGUgPSAwO1xyXG5cclxuICBASG9zdEJpbmRpbmcoJ2lubmVySFRNTCcpXHJcbiAgaWNvbkhUTUw6IFNhZmVIdG1sO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGRvbVNhbml0aXplcjogRG9tU2FuaXRpemVyLCBwcml2YXRlIGljb25TZXJ2aWNlOiBJY29uU2VydmljZSkgeyB9XHJcblxyXG4gIG5nT25Jbml0KCkgeyB9XHJcblxyXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkIHtcclxuICAgIGlmIChjaGFuZ2VzKSB7XHJcbiAgICAgIHRoaXMudXBkYXRlSWNvbigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlSWNvbigpIHtcclxuICAgIGNvbnN0IGljb24gPSB0aGlzLmdldEljb24oKTtcclxuICAgIGNvbnN0IHN2ZyA9IG5ldyBTVkcobm9ybWFsaXplKGljb24pKTtcclxuICAgIHRoaXMuaWNvbkhUTUwgPSB0aGlzLmdlbmVyYXRlU3ZnSHRtbChzdmcpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRJY29uKCk6IG9iamVjdCB7XHJcbiAgICBjb25zdCBpY29uSW5wdXQgPSB0aGlzLmljb24gfHwgdGhpcy5pY0ljb247XHJcbiAgICBpZiAodHlwZW9mIGljb25JbnB1dCAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIGljb25JbnB1dCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdbSWNvbmlmeV06IE5vIGljb24gcHJvdmlkZWQnKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0eXBlb2YgaWNvbklucHV0ID09PSAnb2JqZWN0JyA/IGljb25JbnB1dCA6IHRoaXMuaWNvblNlcnZpY2UuZ2V0KGljb25JbnB1dCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdlbmVyYXRlU3ZnSHRtbChzdmc6IFNWRyk6IFNhZmVIdG1se1xyXG4gICAgcmV0dXJuIHRoaXMuZG9tU2FuaXRpemVyLmJ5cGFzc1NlY3VyaXR5VHJ1c3RIdG1sKHN2Zy5nZXRTVkcoe1xyXG4gICAgICB3aWR0aDogdGhpcy5zaXplIHx8IHRoaXMud2lkdGgsXHJcbiAgICAgIGhlaWdodDogdGhpcy5zaXplIHx8IHRoaXMuaGVpZ2h0LFxyXG4gICAgICBjb2xvcjogdGhpcy5jb2xvcixcclxuICAgICAgaW5saW5lOiB0aGlzLmlubGluZSxcclxuICAgICAgYm94OiB0aGlzLmJveCxcclxuICAgICAgYWxpZ246IHRoaXMuYWxpZ24sXHJcbiAgICAgIGhGbGlwOiB0aGlzLmhGbGlwLFxyXG4gICAgICB2RmxpcDogdGhpcy52RmxpcCxcclxuICAgICAgZmxpcDogdGhpcy5mbGlwLFxyXG4gICAgICByb3RhdGU6IHRoaXMucm90YXRlXHJcbiAgICB9KSk7XHJcbiAgfVxyXG59XHJcbiJdfQ==